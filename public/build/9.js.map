{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, ToastController, AlertController, LoadingController, MenuController } from 'ionic-angular';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../../providers/authentication-service/authentication-service';\nimport { MainPage, ResetPasswordPage } from '../pages';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n  public loginForm;\n  private submitAttempt: boolean = false;\n  private loginErrorString: string;\n  private loading: any;\n  private showImage: string;\n  passicon: string = 'eye';\n  type: string = 'password';\n  margin_top: number;\n\n  constructor(public navCtrl: NavController,\n    public authservice: AuthService,\n    public toastCtrl: ToastController,\n    public alertCtrl: AlertController,\n    public formBuilder: FormBuilder,\n    public loadingCtrl: LoadingController,\n    public translateService: TranslateService,\n    private screenOrientation: ScreenOrientation,\n    private menu: MenuController\n  ) {\n\n    this.loginForm = formBuilder.group({\n      email: ['', Validators.compose([Validators.required, Validators.pattern(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)])],\n      password: ['', Validators.required]\n    });\n\n    this.translateService.get('LOGIN_ERROR')\n      .subscribe((value) => {\n        this.loginErrorString = value;\n      });\n\n    this.screenOrientation.onChange().subscribe(() => {\n      if (this.screenOrientation.type == this.screenOrientation.ORIENTATIONS.PORTRAIT_PRIMARY) {\n        this.showImage = 'block';\n        this.margin_top = 0;\n      } else {\n        this.showImage = 'none';\n        this.margin_top = -20;\n      }\n    });\n  }\n \n  ionViewDidEnter() {\n    this.menu.enable(false);\n  }\n\n  ionViewWillLeave() {\n    this.menu.enable(true);\n  }\n\n  public togglePasswordVisible(event) {\n    event.preventDefault();\n    if (this.passicon == 'eye') {\n      this.passicon = 'eye-off';\n      this.type = 'text';\n    } else {\n      this.passicon = 'eye';\n      this.type = 'password';\n    }\n\n  }\n\n  public elementChanged(input) {\n    let field = input.ngControl.name;\n    this[field + \"Changed\"] = true;\n  }\n\n  public Signup() {\n    this.navCtrl.push('SignupPage');\n  }\n\n  public Login(event): any {\n    event.preventDefault();\n    this.submitAttempt = true;\n    if (!this.loginForm.valid) {\n      console.log(this.loginForm.value);\n    }\n    else {\n      var credentials = ({ email: this.loginForm.value.email, password: this.loginForm.value.password });\n      this.authservice.doLogin(credentials)\n        .subscribe(\n          (auth) => { this.navCtrl.setRoot('TabsPage'); },\n          (error) => {\n            this.loading.dismiss().then(() => {\n              let alert = this.alertCtrl.create({\n                title: error.code,\n                message: error.message,\n                buttons: [\n                  {\n                    text: \"Ok\",\n                    role: 'cancel'\n                  }\n                ]\n              });\n              alert.present();\n            });\n          }\n        );\n      this.loading = this.loadingCtrl.create({\n        dismissOnPageChange: true,\n      });\n      this.loading.present();\n    }\n  }\n\n  public resetPassword() {\n    this.navCtrl.push(ResetPasswordPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}